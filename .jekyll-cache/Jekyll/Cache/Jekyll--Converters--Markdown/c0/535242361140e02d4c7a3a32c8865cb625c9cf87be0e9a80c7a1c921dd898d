I"%<p>Docker환경에서 YOLOv4를 학습시키려고 한다.<br />
Docker Hub에서 도커 이미지를 가져오려다가 처음부터 만드는 것도 재밌을 것 같아서 Dockerfile를 만들었다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>FROM ubuntu:20.04 as base
USER root

RUN apt-get update
RUN apt-get upgrade -y
RUN apt-get install git -y

RUN mkdir /ejkim
RUN git clone https://github.com/AlexeyAB/darknet.git /ejkim
</code></pre></div></div>

<p>처음 <code class="highlighter-rouge">FROM ubuntu:20.04</code> 할 때 <code class="highlighter-rouge">executor failed runnin ~~ exit code: 100</code> 에러가 뜨길래 뭔가하고 검색해봤더니 우분투 최신 버전의 시스템 시간과 내 컴퓨터 시간이 맞지 않다고 뜨는 문제라고 한다. <br />
해결 방법 1은  <code class="highlighter-rouge">RUN echo "Acquire::Check-Valid-Until \"false\";\nAcquire::Check-Date \"false\";" | cat &gt; /etc/apt/apt.conf.d/10no--check-valid-until</code> 라고 밑에 추가로 작성하거나 해결 방법 2는  그냥 <code class="highlighter-rouge">FROM ubuntu:20.04 as base</code> 라고 작성하면 된다.</p>

<p><img src="/public/img/yolo1.png" alt="yolo1" class="center" /></p>

<p>나는 yolo라는 이미지 이름에 2.0 이라는 태그를 달아서 빌드했고 Dockerfile을 보면 알겠지만 마지막에 mkdir로 ejkim 이라는 디렉토리를 만들면서 미리 <a href="https://github.com/AlexeyAB/darknet">YOLO</a> 가져왔다.</p>

<p><img src="/public/img/yolo2.png" alt="yolo2" class="center" /></p>

<p>ejkim 폴더에 들어가면 yolo 파일이 있는 것을 확인 할 수 있다.</p>

<p>이제 해야 할 것은 아래와 같다.</p>

<ol>
  <li>CUDA 설치</li>
  <li>CUDNN 설치</li>
  <li>OpenCV 설치</li>
</ol>

:ET